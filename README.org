#+TITLE: NEMA - Nayuki's EMAcs config
#+AUTHOR: Nyk Ma <i@nyk.ma>

* What's this?

A not-so-hurt-yet-still-make-kind-of-sense emacs configuration set, c/w a bunch of packages.

* Usage

#+BEGIN_SRC sh
cd ~
mv .emacs.d .emacs.d.old
git clone https://github.com/nykma/nema.git .emacs.d
emacs -nw
#+END_SRC

* Hotkey cheatsheet

| Hotkey        | Command                         | Location          | Comment                                        |
|---------------+---------------------------------+-------------------+------------------------------------------------|
| =C-c g g=     | =magit-status=                  | =nema-vcs.el=     | =git status=                                   |
| =C-c g b=     | =magit-blame=                   | =nema-vcs.el=     | =git blame= current buffer                     |
| =C-c g d=     | =magit-diff-buffer-file=        | =nema-vcs.el=     | =git diff= current buffer                      |
| C-'           | =avy-goto-char-timer=           | =nema-basic.el=   | Cursor jump to location                        |
| =C->=         | =mc/mark-next-like-this-symbol= | =nema-basic.el=   | Multi cursor (find next symbol)                |
| =C-C=         | =mc/edit-lines=                 | =nema-basic.el=   | Multi cursor (add one cursor each line)        |
| =M-o=         | Common window functions         | =nema-hydra.el=   | Focus changing, window creation/deletion, etc. |
| =C-c & w=     | =aya-create=                    | =nema-snippet.el= | Create and use a snippet when editing          |
| =C-M-o=       | =ace-window=                    | =nema-basic.el=   | Powerful window switch                         |
| =C-1= ~ =C-9= | =winum-select-window-1=         | =nema-basic.el=   | Quick window switch                            |
| =C-z=         | =popwin:keymap=                 | =nema-basic.el=   | Popup window (acts like Quickfix in Vim)       |

* Customize
** =customize-group=
   There is a customize group called =nema= to give you a few customization options. Remember to restart emacs
   if anything is changed.
     - =nema-emacs-completion-engine= :: Choose between =ivy=, =helm= and none. Default to =ivy=
     - =nema-use-lsp= :: Use LSP or not. Remember to follow toolchain installation instructions below. Default to =nil=
     - =nema-theme= :: Choose one theme from given pre-defined themes list.
     - =nema-theme-style= :: Switch between dark and light mode of your theme (if supported).
     - =nema-mode-line= :: Choose which mode line to use.
** Besides
 There are many ways to hack this. You can
 1. Write your ELisp in =.emacs.d/my/*.el=. They will be loaded after all =nema-*= modules are loaded.
    - Your YAS snippets will be saved and loaded in =.emacs.d/my/snippets/**/*=. (See =nema-snippet.el=)
    - =.emacs.d/my/**/*= is in =.gitignore= list. So you can save sensitive data
      (e.g. IRC login info or Mail account) or some machine-specific configs (e.g. if you have a HiDPI laptop
      and a workstation with normal DPI displays) without syncing across with VCS.
    - I've written some maybe-useful scripts in =my-sample/*.el=. Symlink (or copy) them into your =my/= folder to
      enable them.
 2. Fork me, then modify the =.emacs.d/nema/*.el= files (since it's yours now).

* LSP server installation
See [[https://github.com/emacs-lsp/lsp-mode#supported-languages][emacs-lsp/lsp-mode#supported-languages]]
* Known issues
  1. If it is run at its first time, make sure not to use =emacs --server=, since it may prompt you
     of Elisp-enabled themes warning or native plugin compilation. Use =emacs= or =emacs -nw= instead,
     and press =y= if prompted. When =.emacs.d/custom.el= is built, you can use server mode without problem.

* Many thanks to

- [[https://github.com/emacs-tw/emacs-101-beginner-survival-guide][emacs-tw/emacs-101-beginner-survival-guide]] who gave me courage to build my very own config from scratch.
- [[https://github.com/kuanyui/.emacs.d][kuanyui/.emacs.d]] and [[https://github.com/purcell/emacs.d][purcell/emacs.d]] who provided a good project structure for reference.
- [[https://github.com/bbatsov/prelude][bbatsov/prelude]] who gave me ideas of how to do theme reloading properly.

* License
  GPLv3 for
  - Initialization and core files
  - Layer files (=nema-*.el=)
  - =my-sample/*.el=

  See =LICENSE= file
